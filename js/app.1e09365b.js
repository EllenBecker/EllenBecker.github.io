(function(){"use strict";var e={5750:function(e,t,a){var n=a(9242),o=a(3396);function r(e,t,a,n,r,i){const l=(0,o.up)("Toast"),s=(0,o.up)("CharactersList");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o.Wm)(s)],64)}const i={class:"flex flex-col md:flex-row items-center justify-between mb-4"},l=(0,o._)("div",null,[(0,o._)("span",{class:"font-bold text-5",style:{"font-size":"30px"}},"Lista de Personagens do Star Wars")],-1),s={class:"mt-2 md:mt-0"},c={class:"p-input-icon-left"},u=(0,o._)("i",{class:"pi pi-search"},null,-1),d={class:"flex items-center justify-center mt-4"};function p(e,t,a,n,r,p){const m=(0,o.up)("Toast"),h=(0,o.up)("InputText"),f=(0,o.up)("Column"),g=(0,o.up)("Button"),v=(0,o.up)("Paginator"),w=(0,o.up)("DataTable"),_=(0,o.up)("CharactersDetail");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m),(0,o.Wm)(w,{value:r.listCharacters,class:"w-full",loading:r.loading,globalFilterFields:["name"]},{empty:(0,o.w5)((()=>[(0,o.Uk)(" Nenhum registro encontrado. ")])),header:(0,o.w5)((()=>[(0,o._)("div",i,[l,(0,o._)("div",s,[(0,o._)("span",c,[u,(0,o.Wm)(h,{type:"text",class:"p-inputtext-lg",modelValue:r.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>r.filter=e),placeholder:"Pesquisar"},null,8,["modelValue"])])])])])),footer:(0,o.w5)((()=>[(0,o._)("div",d,[r.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(v,{key:0,rows:r.perPage,totalRecords:r.totalRecords,first:r.page,"onUpdate:first":t[1]||(t[1]=e=>r.page=e),onPage:t[2]||(t[2]=e=>p.load(e)),template:"PrevPageLink PageLinks NextPageLink CurrentPageReport",currentPageReportTemplate:"Página {currentPage} de {totalPages}"},null,8,["rows","totalRecords","first"]))])])),default:(0,o.w5)((()=>[(0,o.Wm)(f,{field:"name",header:"Nome"}),(0,o.Wm)(f,{headerStyle:"width: 5rem"},{body:(0,o.w5)((({data:e})=>[(0,o.Wm)(g,{type:"button",icon:"pi pi-window-maximize",text:"",size:"large",onClick:t=>p.openDialog(e)},null,8,["onClick"])])),_:1})])),_:1},8,["value","loading"]),r.openDialogDetails?((0,o.wg)(),(0,o.j4)(_,{key:0,visible:r.openDialogDetails,"onUpdate:visible":t[3]||(t[3]=e=>r.openDialogDetails=e),character:r.character,onOnClose:t[4]||(t[4]=e=>p.onClose())},null,8,["visible","character"])):(0,o.kq)("",!0)],64)}var m=a(4161),h=a(7139);const f=e=>((0,o.dD)("data-v-0e24b19c"),e=e(),(0,o.Cn)(),e),g={class:"p-d-flex p-flex-column"},v={class:"p-dialog-content"},w=f((()=>(0,o._)("strong",null,"Nome",-1))),_=f((()=>(0,o._)("strong",null,"Ano de Aniversário",-1))),y=f((()=>(0,o._)("strong",null,"Genero",-1))),b=f((()=>(0,o._)("strong",null,"Cor dos olhos",-1))),D=f((()=>(0,o._)("b",null,"Lista de Filmes",-1))),C={class:"p-dialog-footer p-d-flex p-jc-end"};function k(e,t,a,n,r,i){const l=(0,o.up)("Divider"),s=(0,o.up)("FilmsList"),c=(0,o.up)("Button"),u=(0,o.up)("Dialog");return(0,o.wg)(),(0,o.j4)(u,{modal:"",header:"Detalhes do personagem",style:(0,h.j5)({"max-width":i.dialogMaxWidth}),closable:!1},{footer:(0,o.w5)((()=>[(0,o._)("div",C,[(0,o.Wm)(c,{label:"Voltar",icon:"pi pi-check",onClick:t[0]||(t[0]=t=>e.$emit("onClose"))})])])),default:(0,o.w5)((()=>[(0,o._)("div",g,[(0,o._)("div",v,[(0,o._)("table",null,[(0,o._)("tbody",null,[(0,o._)("tr",null,[(0,o._)("td",null,[w,(0,o.Uk)(": "+(0,h.zw)(a.character.name),1)]),(0,o._)("td",null,[_,(0,o.Uk)(": "+(0,h.zw)(a.character.birth_year),1)])]),(0,o._)("tr",null,[(0,o._)("td",null,[y,(0,o.Uk)(": "+(0,h.zw)(a.character.gender),1)]),(0,o._)("td",null,[b,(0,o.Uk)(": "+(0,h.zw)(a.character.eye_color),1)])])])]),(0,o.Wm)(l,{align:"center",type:"dotted"},{default:(0,o.w5)((()=>[D])),_:1}),(0,o.Wm)(s,{films:a.character.films},null,8,["films"])])])])),_:1},8,["style"])}function x(e,t,a,n,r,i){const l=(0,o.up)("Column"),s=(0,o.up)("DataTable");return(0,o.wg)(),(0,o.j4)(s,{value:r.listFilms,loading:r.loading},{empty:(0,o.w5)((()=>[(0,o.Uk)(" Nenhum registro encontrado. ")])),default:(0,o.w5)((()=>[(0,o.Wm)(l,{field:"title",header:"Título"}),(0,o.Wm)(l,{field:"release_date",header:"Data de lançamento"})])),_:1},8,["value","loading"])}a(7658);var P={name:"FilmsList",props:{films:{type:Array}},data(){return{listFilms:[],loading:!1}},mounted(){this.$service="https://my-api-star-wars.herokuapp.com/star_wars/films",this.load()},methods:{async load(){this.loading=!0;for(const t of this.films)try{const e=t.split("/").slice(-2,-1)[0],{data:a}=await m.Z.get(`${this.$service}/${e}`,{});this.listFilms.push(a)}catch(e){return this.$toast.add({severity:"error",summary:"Erro ao buscar filmes!",detail:e,life:3e3}),void(this.loading=!1)}this.loading=!1}}},W=a(89);const Z=(0,W.Z)(P,[["render",x]]);var j=Z,O={emits:["onClose"],name:"CharactersDetail",components:{FilmsList:j},props:{character:{type:Object}},computed:{dialogMaxWidth(){return window.innerWidth>576?"50vw":"90vw"}}};const T=(0,W.Z)(O,[["render",k],["__scopeId","data-v-0e24b19c"]]);var L=T,F={name:"CharactersList",components:{CharactersDetail:L},data(){return{listCharacters:[],page:0,perPage:1,totalRecords:1,filter:"",loading:!1,character:{},openDialogDetails:!1}},mounted(){this.$service="https://my-api-star-wars.herokuapp.com/star_wars/characters",this.load()},watch:{filter(){this.page=0,this.load()}},methods:{async load(){this.loading=!0;try{const{data:e}=await m.Z.get(this.$service,{params:{page:this.page+1,name:this.filter}});this.totalRecords=e?.totalPages,this.listCharacters=e?.items}catch(e){this.$toast.add({severity:"error",summary:"Erro ao listar personagens!",detail:e,life:3e3})}this.loading=!1},openDialog(e){this.character=e,this.openDialogDetails=!0},onClose(){this.openDialogDetails=!1,this.character={}}}};const U=(0,W.Z)(F,[["render",p]]);var $=U,z={name:"App",components:{CharactersList:$}};const R=(0,W.Z)(z,[["render",r]]);var N=R,A=a(7729),V=a(1826),q=a(2419),B=a(2424),E=a(3717),I=a(9174),M=a(6709),H=a(3647),S=a(6823),Y=a(2531);const G=(0,n.ri)(N);G.use(A.Z),G.use(Y.Z),G.component("Button",V.Z),G.component("Dialog",q.Z),G.component("DataTable",B.Z),G.component("Column",E.Z),G.component("Paginator",I.Z),G.component("InputText",M.Z),G.component("Divider",H.Z),G.component("Toast",S.Z),G.mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,r){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],r=e[u][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,i=n[0],l=n[1],s=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(s)var u=s(a)}for(t&&t(n);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self["webpackChunkapp_star_wars"]=self["webpackChunkapp_star_wars"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(5750)}));n=a.O(n)})();
//# sourceMappingURL=app.1e09365b.js.map