(function(){"use strict";var t={5317:function(t,e,a){var n=a(9242),o=a(3396);function r(t,e,a,n,r,i){const l=(0,o.up)("Toast"),s=(0,o.up)("CharactersList");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o.Wm)(s)],64)}const i={class:"flex flex-col md:flex-row items-center justify-between mb-4"},l=(0,o._)("div",null,[(0,o._)("span",{class:"font-bold text-5",style:{"font-size":"30px"}},"Lista de Personagens do Star Wars")],-1),s={class:"mt-2 md:mt-0"},c={class:"p-input-icon-left"},u=(0,o._)("i",{class:"pi pi-search"},null,-1),d={class:"flex items-center justify-center mt-4"};function p(t,e,a,n,r,p){const m=(0,o.up)("Toast"),h=(0,o.up)("InputText"),f=(0,o.up)("Column"),g=(0,o.up)("Button"),v=(0,o.up)("Paginator"),w=(0,o.up)("DataTable"),_=(0,o.up)("CharactersDetail");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(m),(0,o.Wm)(w,{value:r.listCharacters,class:"w-full",loading:r.loading,globalFilterFields:["name"]},{empty:(0,o.w5)((()=>[(0,o.Uk)(" Nenhum registro encontrado. ")])),header:(0,o.w5)((()=>[(0,o._)("div",i,[l,(0,o._)("div",s,[(0,o._)("span",c,[u,(0,o.Wm)(h,{type:"text",class:"p-inputtext-lg",modelValue:r.filter,"onUpdate:modelValue":e[0]||(e[0]=t=>r.filter=t),placeholder:"Pesquisar"},null,8,["modelValue"])])])])])),footer:(0,o.w5)((()=>[(0,o._)("div",d,[r.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(v,{key:0,rows:r.perPage,totalRecords:r.totalRecords,first:r.page,"onUpdate:first":e[1]||(e[1]=t=>r.page=t),onPage:e[2]||(e[2]=t=>p.load(t)),template:"PrevPageLink PageLinks NextPageLink CurrentPageReport",currentPageReportTemplate:"Página {currentPage} de {totalPages}"},null,8,["rows","totalRecords","first"]))])])),default:(0,o.w5)((()=>[(0,o.Wm)(f,{field:"name",header:"Nome"}),(0,o.Wm)(f,{headerStyle:"width: 5rem"},{body:(0,o.w5)((({data:t})=>[(0,o.Wm)(g,{type:"button",icon:"pi pi-window-maximize",text:"",size:"large",onClick:e=>p.openDialog(t)},null,8,["onClick"])])),_:1})])),_:1},8,["value","loading"]),r.openDialogDetails?((0,o.wg)(),(0,o.j4)(_,{key:0,visible:r.openDialogDetails,"onUpdate:visible":e[3]||(e[3]=t=>r.openDialogDetails=t),character:r.character,onOnClose:e[4]||(e[4]=t=>p.onClose())},null,8,["visible","character"])):(0,o.kq)("",!0)],64)}var m=a(4161),h=a(7139);const f=t=>((0,o.dD)("data-v-0e24b19c"),t=t(),(0,o.Cn)(),t),g={class:"p-d-flex p-flex-column"},v={class:"p-dialog-content"},w=f((()=>(0,o._)("strong",null,"Nome",-1))),_=f((()=>(0,o._)("strong",null,"Ano de Aniversário",-1))),y=f((()=>(0,o._)("strong",null,"Genero",-1))),b=f((()=>(0,o._)("strong",null,"Cor dos olhos",-1))),D=f((()=>(0,o._)("b",null,"Lista de Filmes",-1))),C={class:"p-dialog-footer p-d-flex p-jc-end"};function x(t,e,a,n,r,i){const l=(0,o.up)("Divider"),s=(0,o.up)("FilmsList"),c=(0,o.up)("Button"),u=(0,o.up)("Dialog");return(0,o.wg)(),(0,o.j4)(u,{modal:"",header:"Detalhes do personagem",style:(0,h.j5)({"max-width":i.dialogMaxWidth}),closable:!1},{footer:(0,o.w5)((()=>[(0,o._)("div",C,[(0,o.Wm)(c,{label:"Voltar",icon:"pi pi-check",onClick:e[0]||(e[0]=e=>t.$emit("onClose"))})])])),default:(0,o.w5)((()=>[(0,o._)("div",g,[(0,o._)("div",v,[(0,o._)("table",null,[(0,o._)("tbody",null,[(0,o._)("tr",null,[(0,o._)("td",null,[w,(0,o.Uk)(": "+(0,h.zw)(a.character.name),1)]),(0,o._)("td",null,[_,(0,o.Uk)(": "+(0,h.zw)(a.character.birth_year),1)])]),(0,o._)("tr",null,[(0,o._)("td",null,[y,(0,o.Uk)(": "+(0,h.zw)(a.character.gender),1)]),(0,o._)("td",null,[b,(0,o.Uk)(": "+(0,h.zw)(a.character.eye_color),1)])])])]),(0,o.Wm)(l,{align:"center",type:"dotted"},{default:(0,o.w5)((()=>[D])),_:1}),(0,o.Wm)(s,{films:a.character.films},null,8,["films"])])])])),_:1},8,["style"])}function k(t,e,a,n,r,i){const l=(0,o.up)("Column"),s=(0,o.up)("DataTable");return(0,o.wg)(),(0,o.j4)(s,{value:r.listFilms,loading:r.loading},{empty:(0,o.w5)((()=>[(0,o.Uk)(" Nenhum registro encontrado. ")])),default:(0,o.w5)((()=>[(0,o.Wm)(l,{field:"title",header:"Título"}),(0,o.Wm)(l,{field:"release_date",header:"Data de lançamento"})])),_:1},8,["value","loading"])}a(7658);var P={name:"FilmsList",props:{films:{type:Array}},data(){return{listFilms:[],loading:!1}},mounted(){this.$service="http://localhost:3000/star_wars/films",this.load()},methods:{async load(){this.loading=!0;for(const e of this.films)try{const t=e.split("/").slice(-2,-1)[0],{data:a}=await m.Z.get(`${this.$service}/${t}`,{});this.listFilms.push(a)}catch(t){return this.$toast.add({severity:"error",summary:"Erro ao buscar filmes!",detail:t,life:3e3}),void(this.loading=!1)}this.loading=!1}}},W=a(89);const Z=(0,W.Z)(P,[["render",k]]);var j=Z,O={emits:["onClose"],name:"CharactersDetail",components:{FilmsList:j},props:{character:{type:Object}},computed:{dialogMaxWidth(){return window.innerWidth>576?"50vw":"90vw"}}};const T=(0,W.Z)(O,[["render",x],["__scopeId","data-v-0e24b19c"]]);var L=T,F={name:"CharactersList",components:{CharactersDetail:L},data(){return{listCharacters:[],page:0,perPage:1,totalRecords:1,filter:"",loading:!1,character:{},openDialogDetails:!1}},mounted(){this.$service="http://localhost:3000/star_wars/characters",this.load()},watch:{filter(){this.page=0,this.load()}},methods:{async load(){this.loading=!0;try{const{data:t}=await m.Z.get(this.$service,{params:{page:this.page+1,name:this.filter}});this.totalRecords=t?.totalPages,this.listCharacters=t?.items}catch(t){this.$toast.add({severity:"error",summary:"Erro ao listar personagens!",detail:t,life:3e3})}this.loading=!1},openDialog(t){this.character=t,this.openDialogDetails=!0},onClose(){this.openDialogDetails=!1,this.character={}}}};const U=(0,W.Z)(F,[["render",p]]);var $=U,z={name:"App",components:{CharactersList:$}};const R=(0,W.Z)(z,[["render",r]]);var N=R,A=a(7729),V=a(1826),q=a(2419),B=a(2424),E=a(3717),I=a(9174),M=a(6709),H=a(3647),S=a(6823),Y=a(2531);const G=(0,n.ri)(N);G.use(A.Z),G.use(Y.Z),G.component("Button",V.Z),G.component("Dialog",q.Z),G.component("DataTable",B.Z),G.component("Column",E.Z),G.component("Paginator",I.Z),G.component("InputText",M.Z),G.component("Divider",H.Z),G.component("Toast",S.Z),G.mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,r){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],r=t[u][2];for(var l=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[s])}))?n.splice(s--,1):(l=!1,r<i&&(i=r));if(l){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,o,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,i=n[0],l=n[1],s=n[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(s)var u=s(a)}for(e&&e(n);c<i.length;c++)r=i[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},n=self["webpackChunkapp_star_wars"]=self["webpackChunkapp_star_wars"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(5317)}));n=a.O(n)})();
//# sourceMappingURL=app.6bc0c60b.js.map